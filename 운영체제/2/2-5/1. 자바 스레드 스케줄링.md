# 자바 스레드 스케줄링

- 자바 런타임 환경은 고정 우선순위 스케줄링이라 부르는 결정적 스케줄링 알고리즘을 지원한다. 

- 해당 알고리즘은 다른 실행가능(Runnable) 스레드들은 관련 우선순위에 기초하여 스케줄링한다.

## 스레드 상태

> 자바 스레드는 생명주기 동안 스레드 상태는 생성(New), 실행가능(Runable), 보류(Blocked), 시간 대기(Timed Waiting), 실행(Running) 또는 종료(Dead) 등의 상태가 될 수 있다.

1. 로운 스레드가 만들어지면, 그것은 생성 상태에 있다. 프로그램이 그것의 start() 메서드를 실행할 때까지 이 상탱에 있다.


2. 스레드의 start() 메서드를 호출하면 그것을 실행가능 상태에 넣는다.이 시점에 실행 제어는 스레드 실행을 완료하기 위하여 스레드 스케줄러에게 전달된다. 스레드  스케줄러는 이 스레드를 실행해야할 지 또는 다른 실행 가능한 스레드들에게 기회를 주기 위하여 대기해야 할지를 결정한다.

3. 스레드가 즉시 완료할 수 없는 작업의 수행을 시도하거나 스레드가 작업이 완료될 때까지 일시적으로 기다릴 때 실행가능 스레드는 보류 상태로 전이된다.

4. 스레드는 wait() 메서드 호출과 같은 다양한 이유로 대기 상태에 놓일 수 있다. 일반적으로 프로그램은 현재 스레드가 수행하고 있는 작업보다 먼저 다른 작업을 수행되어야 하는 것 때문에 스레드를 대기 상태로 만든다.

5. 실행가능 스레드는 다른 스레드가 작업을 수행하기를 기다리는 동안 선택적 대기 인터벌을 제공하면 시간 대기 상태로 전환할 수 있다. 자바 스레드를 sleep(long mills) 메서드를 호출하여 시간 대기 상태에 놓일 수 있다.

6. 스레드는 작업을 성공적으로 완료하거나 오류로 인해 종료되거나 심지어 강제 종료된 경우에도 종료 상태로 전이된다. 


- 스레드가 생성될 때, 그것은 스레드를 생성하는 스레드로부터 스레드의 우선 순위를 상속받는다.
- 스레드가 생성된 후에 setPriority 메서드를 사용하여 언제든지 스레드의 우선 순위를 수정할 수 있다.

    > 스레드 우선 순위들은 스래드 클래스에 정의된 상수들인 MIN_PRIORITY와 MAX_PRIOTITY 사이의 정수들이며, 그 수가 클수록 우선순위가 높다.

    > 스레드를 위한 우선 순위의 허용치는 1에서 10까지 범위에 있으며, MIN_PRIORITY의 값은 1이고, MAX_PRIORITY의 값은 10이다.

    > 같은 우선순위의 2개의 스레드들이 중앙처리장치를 기다리면, 그 스케줄러는 실행을 위해 그것들 중에 하나를 임의로 선택한다.

    > 선택된 스레드는 다음 조건일 때까지 실행된다.

        우선순위가 높은 스레드가 실행 가능하게 됨.
        스레드가 처리기 사용을 양보하거나 run 메서드를 빠져나옴
        시간 분할을 지원하는 시스템에서 시간 할당이 만료됨.

    > 자바 런타임 시스템의 스레드 스케줄링 알고리즘은 선점 방식을 사용한다.