# 프로세스 스케줄링

## 스케줄링의 목적 및 기준

### 목적

- 공정성 : 응답과 이용 간의 균형 유지
- 처리 능력의 최대화 : 실행의 무한 지연을 피할 것
- 응답 시간의 최소화 : 우선 순위제 실시
- 예측 가능 : 주요 자원들을 점유하고 있는 프로세스에게 우선권을 준다.
- 오버헤드(overhead)의 최소화 : 좀 더 바람직한 동작을 보이는 프로세스에게 더 좋은 서비스를 제공한다.
- 자원 사용의 균형 유지 : 페이지 부재(page fault)율이 낮은 프로세스들에게 더 좋은 서비스를 제공한다. (과중한 부하를 완만히 줄인다.)

## 기준 : 스케줄링 기법의 고려 사항

- 입출력 위주의 프로세스인가?
- 연산 위주의 프로세스인가?
- 프로세스가 일괄 처리형인가? 대화형인가?
- 긴급한 응답이 요구되는가?
- 프로세스의 우선 순위
- 프로세스가 페이지 부재를 얼마나 자주 발생시키는가?
- 높은 우선순위를 지니는 프로세스에 의해서 얼마나 자주 프로세스가 선점(preempted)되는가?
- 프로세스가 받은 실행은 얼마나 되는가?
- 프로세스가 완전히 처리되는데 필요한 시간은 얼마나 더 요구되는가?


## 단계별 분류

- 중앙처리장치 스케줄링의 세 가지 중요한 단계


### 상위 단계 스케줄링(highlevel scheduling)

- 어떤 작업에게 시스템의 자원들을 차지할 수 있도록 할 것인가를 결정, 작업(JOB) 스케줄링 또는 장기(Long-term)스케줄링이라고도 함.


### 중간 단계 스케줄링(intermediate level scheduling)

- 어떤 준비완료 프로세스(ready process)에게 중앙처리장치를 할당할 것인가를 결정


### 하위 단계 스케줄링(low level scheduling)

- 어떤 프로세스들에게 입출력장치를 차지할 수 있도록 할 것인가를 결정, 중기(Medium-term) 스케줄링이라고도 함.

> 하위 단계 스케줄링은 디스패처(dispatcher)에 의해서 매초 여러 번 작동하기 때문에 단기(short-term) 스케줄링이라고도 한다.


## 방법, 환경 별 분류

- 선점 / 비선점(preemptive/nonpreemptive) 스케줄링

### 선점 방식

> 프로세스가 중앙처리장치를 차지하고 있을 때 다른 프로세스가 현재 수행 중인 프로세스를 중지시키고 자신이 중앙처리장치를 차지할 수 있다.


### 비선점 방식

> 프로세스에 중앙처리장치가 할당되면 그 프로세스의 수행이 끝날 때까지 중앙처리는 그 프로세스로부터 빠져나올 수 없다.


## 우선순위(priority) 스케줄링

- 각 프로세스에게 우선순위를 부여하여 우선순위가 높은 순서대로 처리하는 방법이다.


### 우선 순위 기법

- 정적 우선순위 기법(static priority) : 실행이 쉽고 상대적으로 오버헤드는 적으나, 주위 여건의 변화에 적응하지 않고 우선순위를 바꾸지 않는다.

- 동적 우선순위 기법(dynamic priority) : 각 프로세스에 부여된 처음의 우선순위는 필요에 따라 재구성되어 잠시 동안만 그 순위를 가질 뿐 다시 조정될 수 있다.


## 기한부(deadline) 스케줄링

- 작업들이 명시된 시간이나 기한 내에 완료

### 실시간 시스템 종류

- 경성 실시간 시스템 (hard real-time system) : 중요한 태스크(task)를 정한 시간 내에 완료할 수 있도록 해주는 강한 형태의 실시간 시스템이다.

- 연셩 실시간 시스템 (soft real-time system) : 시간적 제한이 다소 약한 형태의 실시간 시스템이다.


### 실시간 스케줄링 방식

- 정적 스케줄링 방식
> 시스템에 의해 실행되는 태스크 집합이 미리 정의되어 있는 경우
> 주기적인 연성 실시간 태스크 집합에 유용하다.
> RM(Rate Monotonic) 알고리즘 : 태스크 주기가 짧을수록 더 높은 우선순위를 부여한다.


- 동적 (dynamic) 스케줄링 방식
> 태스크의 발생 시간이나 특성을 미리 예측할 수 없을 경우에 유용하다.
> 태스크 발생이 가변적이어서 태스크 수는 실행시에 결정된다.
> 멀티미디어 시스템의 경우 긴급한 태스크가 보장된 주기의 시간 내에 서비스를 보장받기 위해서는 경성 실시간 스케줄링이 요구된다.
> EDF(Earliest-Deadline First) 알고리즘 : 마감 시간에 가장 근접한 태스크를 가장 먼저 수행하는 방식이다.


## 다중 프로세서(Multiple Processor) 스케줄링

> 프로세서들의 형태는 시스템 또는 이질 시스템일 수도 있다. 이질 시스템의 경우 각 프로세서는 자신의 큐가 있으며 자신의 스케줄링 알고리즘을 가진다.

> 프로세서들이 동질일 경우 부하 공유(load sharing)를 하게 된다. 이 경우에는 각 프로세서마다 별개의 큐를 제공하는 것이 가능하다.


### 두 가지 스케줄링 방식

- 각 프로세서가 스스로 스케줄링하며, 공동 준비 큐를 조사하여 실행할 프로세스를 선택한다.

- 한 프로세서가 다른 프로세서를 위한 스케줄러로서 지정되어 주/종 구조(master/slave structure)를 구성한다.


